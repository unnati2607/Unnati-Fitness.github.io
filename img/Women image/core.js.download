(function(h,g,l,k,e){h[g]=h[g]||{};for(h[g].q=h[g].q||[];e<k.length;)l(k[e++],h[g])})(window,"extole",function(h,g){g[h]=g[h]||function(){g.q.push([h,arguments])}},["log"],0);
extole.define||function(){function h(a){a=n(a);return v[a]}function g(a,b){extole.log("debug","[REQUIRE] "+a,b)}function l(a,b){extole.log("error","[REQUIRE] "+a,b)}function k(a,b){if(a.length)for(var d=0;d<a.length;d++)b(a[d],d);else for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&b(a[d],d)}function e(a,b){var d=[];k(a,function(a,m){d[m]=b(a,m)});return d}function n(a){return"string"!==typeof a?a:/origin-\d/.test(a)?a.substring(a.indexOf("type=")).replace(/version=\d+:/,""):a}function c(a){var b=
a.split("/").slice(-1)[0],d=b.length;k(b.toLowerCase(),function(a){d+=" abcdefghijklmnopqrstuvwxyz1234567890-_.".indexOf(a)});return a.replace("origin","origin-"+d%8)}function a(b){var d=/^extole-creatives:/.test(b),f=/^extole-media:/.test(b),p=/^core-root:\/\//.test(b),m=/^extole-assets:/.test(b),u=/origin\./.test(b),e=/^http:/.test(b),g=/^https:/.test(b);return d?(b=b.slice(17),a("extole-assets:/core-modules/"+b)):m?(b=b.slice(14),a("extole-media:/assets/"+b)):f?(b=b.slice(13),b=extole.CORE_ROOT+
b,a(b)):p?(b=b.slice(12),b=extole.CORE_ROOT+b,a(b)):u?(b=c(b),b+="?site="+window.location.hostname,a(b)):e?(b=b.slice(5),a(b)):g?(b=b.slice(6),a(b)):b}function f(){}function b(){var b="undefined"!==typeof window.opera&&"[object Opera]"===window.opera.toString(),a=document.createElement("script");this.useInteractive=a.attachEvent&&!(a.attachEvent.toString&&0>a.attachEvent.toString().indexOf("[native code"))&&!b}function d(){k(v,function(b){b._fetched?b._defined||b.define():b.fetch()})}function p(b,
a,d,p,c){if("$config"!=b){var r=h(b),m=r||new f;r||(r=n(b),v[r]=m);b&&a&&(m._fetched=!0);m.start=m.start||(new Date).getTime();m.url=m.url||b;m.dependencies=m.dependencies||a;m.config=m.config||p;m.definedCallback=m.definedCallback||d;m.isRequire=m.isRequire||c}}function u(b,a,d,f){b instanceof Array&&(f=d,d=a,a=b,b=void 0);q.addDefine({url:b,dependencies:a,definedCallback:d,config:f})}function z(){t++;return"anonymous_"+t}var v={};f.prototype={getUnresolvedDependencies:function(){var b=[];k(this.dependencies,
function(a){"$config"!=a&&(a=h(a),(!a||a&&!a._defined)&&b.push(a))});return b},getDependencies:function(){var b=this,a=[];k(b.dependencies,function(d){d="$config"==d?b.config||null:h(d).definition||null;a.push(d)});return a},define:function(){function b(b){a.definedCallback=void 0;a.definition=b;a.end=(new Date).getTime();a.timeToDefine=a.end-a.start;a.timeToFetch&&g("Fetched "+a.url+" in "+a.timeToFetch+"ms");a.isAsync&&g("Defined async "+a.url+" in "+a.timeToDefine+"ms");a._defining=!1;a._defined=
!0;setTimeout(d,1)}var a=this;a.defineStartTime=a.defineStartTime||(new Date).getTime();if(!a._defining&&!a._defined&&a.dependencies)if(a._defining=!0,0<a.getUnresolvedDependencies().length)a._defining=!1;else{var f=a.getDependencies(),p={isAsync:!1,async:function(){a.isAsync=!0;p.isAsync=a.isAsync;return function(a){b(a)}}};(function(){if(a.definedCallback){var d=a.definedCallback;d=d&&d.apply(p,f);p.isAsync||b(d)}else b(!0)})()}},fetch:function(){var a=this;a._fetching||a._fetched||(a.url?(a._fetching=
!0,a.startFetchTime=(new Date).getTime(),q.loadModule(a.url,function(){a._fetching=!1;a.endFetchTime=(new Date).getTime();a.timeToFetch=a.endFetchTime-a.startFetchTime;a._fetched=!0;a.define()})):l("Tried to fetch a module without a url - dependencies: "+a.dependencies+" definedCallback: "+(a.definedCallback?"exists":"null")+" config: "+a.config))}};b.prototype={defineQueue:[],interactiveScript:null,currentlyAddingScript:null,getInteractiveScript:function(){if(q.interactiveScript&&"interactive"==
q.interactiveScript.readyState)return q.interactiveScript;for(var a=document.getElementsByTagName("head")[0].getElementsByTagName("script"),b,d=a.length-1;0<=d;d--){var f=this.getScriptDataUrl(a[d]);a[d]&&"interactive"==a[d].readyState&&f&&(b=a[d],g("...interactive script "+b.src))}return b},scriptUrlAttributeName:"data-extole-require-url",getScriptDataUrl:function(a){return a.getAttribute(this.scriptUrlAttributeName)},setScriptDataUrl:function(a,b){a.setAttribute(this.scriptUrlAttributeName,b)},
attachOnLoad:function(a,b){function d(c){var u=a.readyState;if(f&&"interactive"==u)this.interactiveScript=a;else if("load"===c.type||p.test(u))f?a.detachEvent("onreadystatechange",d):a.removeEventListener("load",d,!1),g(a.src+" finished loading"),b(c)}b=b||function(){};var f=this.useInteractive,p="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;f?a.attachEvent("onreadystatechange",d):a.addEventListener("load",d,!1)},defineTimeout:null,addDefine:function(b){if(b.url)b.url=a(b.url);
else{g("defining anonymous module...");var d=this.currentlyAddingScript||this.getInteractiveScript();this.useInteractive&&d?(d=this.getScriptDataUrl(d),g("..scriptToCompare has data url "+d),b.url=d,this.interactiveScript=null):this.useInteractive&&g("..found no scriptToCompare")}b.dependencies=e(b.dependencies,a);this.useInteractive&&!b.url&&l("defines should not be missing a url in ie.");this.defineQueue.push(b);this.defineTimeout&&clearTimeout(this.defineTimeout);var f=this;this.defineTimeout=
setTimeout(function(){g("intakeDefines from addDefine timeout");f.intakeDefines()},1)},intakeTimeout:null,intakeDefines:function(){function a(a,d){b[a]=b[a]?b[a]+","+d:d}for(var b={},f=[],c;c=this.defineQueue.shift();){var u=[];k(c.dependencies,function(a){a&&u.push(a)});var e=c.url&&h(c.url);c.url?e?a(c.url,"updated"):a(c.url,"created"):f.push("deps "+c.dependencies);k(u,function(b){a(b,"dependency");p(b)});p(c.url,u,c.definedCallback,c.config,c.isRequire)}var v="intakeDefines -- ";k(b,function(a,
b){v+="\n - "+b+" "+a});v+="\n -- "+f.length+" anonymous modules created";k(f,function(a){v+="\n - "+a});g(v);this.intakeTimeout&&clearTimeout(this.intakeTimeout);this.intakeTimeout=setTimeout(d,1)},loadModule:function(a,b){var d=document.createElement("script");d.async=!0;d.crossOrigin="anonymous";this.setScriptDataUrl(d,a);var f=this;g("loading module "+a);this.attachOnLoad(d,function(){clearTimeout(p);if(!f.useInteractive){for(var d,c=f.defineQueue.length-1;0<=c;c--)f.defineQueue[c].url||(d&&l("Multiple anonymous modules loaded in one script - "+
a),d=f.defineQueue[c]);d?(g("assigned "+a+" to anonymous module"),d.url=a):g("module url didn't define a module - "+a)}g("intake defines from loadModule");f.intakeDefines();b&&b(null)});d.src=a;var p=setTimeout(function(){extole.log("warn","[REQUIRE] Module did not load within 2000ms: ",{moduleUrl:a})},2E3);this.currentlyAddingScript=d;var c=document.getElementsByTagName("head")[0]||document.head;c?c.appendChild(d):extole.log("warn","[REQUIRE] <head> element not found on trying to load "+a,void 0);
this.currentlyAddingScript=void 0}};var q=new b;u.getModule=function(a){return h(a)};var t=0;extole.define=u;extole.require=function(a,b){q.addDefine({url:z(),dependencies:a,definedCallback:b,isRequire:!0})};extole.define("extole-require",[],function(){return{resolveUrl:a}});setTimeout(function(){var a=!1,b=[];k(v,function(d){d._defined||(a=!0);b.push({defineStartTime:d.defineStartTime,dependencies:d.dependencies,end:d.end,start:d.start,isRequire:d.isRequire,timeToDefine:d.timeToDefine,url:d.url,
_defined:d._defined,_defining:d._defining,_fetched:d._fetched})});a&&extole.DUMP_REQUIRE_MODULES_ON_ERROR&&extole.log("error","After 7000ms there are unresolved extole-require modules.  ###"+JSON.stringify(b)+"###")},7E3)}();(function(){})();
extole.define("extole-uri-parser",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js"],function(h,g){var l=/^extole_(?!zone)/,k=/^extole_zone_/;return new function(){function e(a){var f={};a=a||c;h.each(a,function(a,d){l.test(d)&&(d=d.replace(l,""),f[d]=a)});return f}function n(){var a,f,b={};this.withName=function(b){a=b;return this};this.withElementId=function(a){f=
a;return this};this.withData=function(a,f){b[a]=f;return this};this.build=function(){var d={};a&&(d.name=a);f&&(d.elementId=f);b&&(d.data=b);return d}}var c=g.deserialize(location.search);this.parseUriZoneDefinition=function(a){var f=new n,b;a=a||c;var d=e(a);h.each(d,function(a,b){f.withData(b,a)});h.each(a,function(a,d){k.test(d)&&(d=d.replace(k,""),"name"===d?(b=!0,f.withName(a)):"element_id"===d?f.withElementId(a):f.withData(d,a))});return b?f.build():null};this.parseGlobalZoneParameters=e}});
(function(h,g,l,k,e){h[g]=h[g]||{};for(h[g].q=h[g].q||[];e<k.length;)l(k[e++],h[g])})(window,"extole",function(h,g){g[h]=g[h]||function(){g.q.push([h,arguments])}},["createZone","log"],0);
(function(){var h=[{name:"Shutterstock Branded Domain",programDomain:"share.shutterstock.com",sitePatterns:"share.shutterstock.com extole.io *.extole.io extole.com *.extole.com shutterstock.com *.shutterstock.com shuttercloud.org *.shuttercloud.org".split(" "),siteRegexPatterns:"share\\.shutterstock\\.com\\.?$ extole\\.io\\.?$ .*\\.extole\\.io\\.?$ extole\\.com\\.?$ .*\\.extole\\.com\\.?$ shutterstock\\.com\\.?$ .*\\.shutterstock\\.com\\.?$ shuttercloud\\.org\\.?$ .*\\.shuttercloud\\.org\\.?$".split(" ")}];extole.CORE_ROOT=
"https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106";extole.CORE_CONFIG={backendTargetingEnabled:!0,isZonePostEnabled:!0,isCookieConsentEnabled:!1,isJsCreativeRespondsWithHtmlEnabled:!1,isGlobalZoneParametersEnabled:!1,zonePostEnabled:!0,cookieConsentEnabled:!1};extole.CLIENT_ID="1528233037";extole.BUILD_DATE="1644540402877";extole.VERSION="6.0";extole.PROGRAM=function(){function g(a,b){a=Error.call(this,a);this.name="ExtoleError";this.message=a.message;this.stack=a.stack;
this.code=b}function l(a,b){if(a.length)for(var d=0;d<a.length;d++)b(a[d],d);else for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&b(a[d],d)}function k(a,b){var d=[];l(a,function(a){(a=b(a))&&(d[d.length]=a)});return d}function e(a,b){b=b||[];var d=!1;l(b,function(b){(new RegExp(b)).test(a)&&(d=!0)});return d}function n(){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/ajax.js"],
function(a,b){var d=extole.CORE_ROOT;a=d.replace(/(https?:\/\/[a-z-\.]+)(\/.*)/,"$1")+"/_extole_core.gif"+a.serialize({core_root:d,referer:window.location.hostname});b({url:a})})}g.prototype=Error();g.prototype.constructor=g;var c=function(a){var b=window.location.hostname;return k(a,function(a){if(e(b,a.siteRegexPatterns))return a})}(h),a=c[0];if(!a)throw n(),new g("No program domain is configured for hostname: "+window.location.hostname+" unable to use Extole API","site_configuration_error");1<
c.length&&extole.log("warn","Multiple programs matched hostname: "+window.location.hostname+" programs: "+JSON.stringify(c));return a}();extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js","create-zone-executor"],function(g,h,k){function e(){function a(a){var d=a[0];"function"===typeof b[d]?(b[d].apply(null,a[1]),extole.q.history.push({name:a[0],args:a[1],
timestamp:Date.now(),stack:Error().stack})):h.warn("Unable to execute method: "+d+", it is not implemented.")}var b={log:function(){var a=Array.prototype.slice.call(arguments),b=a[0];"function"===typeof h[b]&&h[b].apply(null,a.slice(1))},createZone:k.initiateExecution};for(extole.q.history=[];extole.q.length;)a(extole.q.shift());extole.q.push=a}function n(){extole.require(["extole-uri-parser"],function(a){var b=g.deserialize(location.search);(a=a.parseUriZoneDefinition(b))&&extole.createZone(a)})}
function c(){if("function"===typeof window.onerror)var a=window.onerror;window.onerror=function(b,d,c,f,e){if(a)try{a(b,d,c,f,e)}catch(t){}d=d||window.location.href||"no_source_or_location.href";e=e&&e.stack?e.stack:"no_error.stack";var p=[],u=JSON.stringify({MESSAGE:b,SOURCE:d,LINE_NUMBER:c,COLUMN_NUMBER:f,STACK_TRACE:e},function(a,b){if(null!==b&&"object"===typeof b){if(0<=p.indexOf(b))return;p.push(b)}return b});c=extole.PROGRAM.programDomain.split(".").join("\\.");c=new RegExp("^(http|https):\\/\\/("+
c+"|(([A-Za-z0-9-]{1,}\\.){1,}|)(xtlo\\.net|extole(\\.com|\\.io)))(?=(\\/|\\?|$))");((e+b).match(/extole/i)||c.test(d))&&extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js"],function(a){a.error("Unhandled exception",JSON.parse(u))})}}function a(){extole._bootstrapped=!0;c();e();n()}extole.bootstrap=a;extole._bootstrapped||a();if("undefined"!==typeof window.extoleAsyncInit)try{window.extoleAsyncInit()}catch(f){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js"],
function(a){a.error("Error executing extended core javascript. Message : "+f.message+" Stack: "+f.stack)})}})})();extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/ExtoleError.js",[],function(){function h(g,h,k){g=Error.call(this,g);this.name="ExtoleError";this.message=g.message;this.stack=g.stack;this.code=h;this.data=k}h.prototype=Error();return h.prototype.constructor=h});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/type.js"],function(h,g){function l(e,g){var c;if(e.length===Number(e.length))for(c=0;c<e.length;c++){var a=g(e[c],c);if(!1===a)return!1}else for(c in e)if(Object.prototype.hasOwnProperty.call(e,c)&&(a=g(e[c],
c),!1===a))return!1}function k(e){if(!e||"object"!==typeof e&&!g.isPlainFunction(e))e={};for(var h=1;h<arguments.length;h++)if(g.isPlainObject(arguments[h]))for(var c in arguments[h]){var a=arguments[h][c];a!==e&&void 0!==a&&(g.isPlainObject(a)&&g.isPlainObject(e[c])?a=k(e[c],a):g.isArray(a)&&g.isArray(e[c])&&e[c].concat&&(a=e[c].concat(a)),e[c]=a)}return e}l.BREAK=!1;return{each:l,map:function(e,k){function c(a,d){f=[];l(a,function(a,b){f.push(d(a,b))})}function a(a,d){f={};l(a,function(a,b){f[b]=
d(a,b)})}var f;if(g.isArray(e))c(e,k);else if(g.isPlainObject(e))a(e,k);else throw new h(e+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return f},filter:function(e,k){function c(a,d){f=[];l(a,function(a,b){d(a,b)&&f.push(a)})}function a(a,d){f={};l(a,function(a,b){d(a,b)&&(f[b]=a)})}var f;if(g.isArray(e))c(e,k);else if(g.isPlainObject(e))a(e,k);else throw new h(e+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return f},merge:k,clone:function(e){return JSON.parse(JSON.stringify(e))},
flatten:function(e){function k(a,f){if(g.isPlainObject(a))l(a,function(a,b){var d=f.slice();d.push(b);k(a,d)});else{var b=f.join(".");c[b]=a}}if(!g.isPlainObject(e))return e;var c={};k(e,[]);return c},find:function(e,g){var c;l(e,function(a,f){if(g(a,f))return c=a,l.BREAK});return c},reverse:function(e){var g=[];if(!e||e.length!==Number(e.length))return e;for(var c=e.length-1;0<=c;c--)g.push(e[c]);return g},nashornToJs:function(e){var g=Object.prototype.toString.call(e),c;if("object"!==typeof e||
g.match(/\[object (Object|Array|Null)\]/))return e;if(g.match(/\[object java\.util\.(HashMap|TreeMap|Collections\$UnmodifiableMap)\]/)){var a={};for(c in e)a[c]=e[c]}else if("number"===typeof e.length)a=[],l(e,function(c,b){a[b]=c});else return e;return a},intersection:function(e,g){var c=[];l(e,function(a){0>g.indexOf(a)||0<=c.indexOf(a)||c.push(a)});return c},difference:function(e,g){var c=[];l(e,function(a){0<=g.indexOf(a)||0<=c.indexOf(a)||c.push(a)});return c}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/cookie.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js"],function(h){function g(a){try{return decodeURIComponent(a.replace(e," "))}catch(f){return h.info("** cookie.decode ** Cookie error for: "+a,{error:f,message:f.message,stack:f.stack,cookiePart:a}),""}}function l(a){a=g(a);return 0===a.indexOf('"')?a.slice(1,-1).replace(n,'"').replace(c,"\\"):a}function k(a){if(!a||
!a.toUTCString){var c=new Date;c.setDate(c.getDate()+("number"===typeof a?a:0));return c}return a}var e=/\+/g,n=/\\"/g,c=/\\\\/g;return function(a,c,b){if(void 0!==c)return b=b||{},document.cookie=[encodeURIComponent(a),"=",encodeURIComponent(c),b.expires?"; expires="+k(b.expires).toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.samesite?"; samesite="+b.samesite:"","; secure"].join("");a:{c=document.cookie?document.cookie.split("; "):[];b=a?null:{};for(var d=0,f=c.length;d<
f;d++){var e=c[d].split("="),h=g(e[0]);if(!a)b[h]=l(e[1]);else if(a===h){a=l(e[1]);break a}}a=b}return a}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/device-type.js",[],function(){function h(k){return g.test(k)}var g=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Dolphin|Fennec|(hpw|web)OS|Zune|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Silk-Accelerated|Skyfire|NetFront/i,l=/WebView|\swv|(iPhone|iPod|iPad)(?!.*Safari)|Android.*(wv|.0.0.0)|Linux; U; Android/i;return{isMobile:h,isDesktop:function(g){return!h(g)},isWebview:function(g){return l.test(g)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/dom.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js"],function(h){function g(a,d){return(d||document).querySelectorAll(a)}function l(a,d){return g(a,d)[0]}function k(b,d){function p(){clearTimeout(g);d(e);n.removeListener(e,"load",p)}d=d||function(){};if(f[b]||!b)return d(f[b]),f[b]||null;f[b]=document.createElement("link");var e=f[b];c.setAttribute(e,
"rel","stylesheet");c.setAttribute(e,"href",b);a.append(l("head"),e);n.addListener(e,"load",p);var g=setTimeout(function(){h.warn("Load timeout reached for stylesheet: ",{url:b});p()},5E3);return e}var e={each:function(a,d){var b;if(a.length===Number(a.length))for(b=0;b<a.length;b++){var c=d(a[b],b);if(!1===c)return!1}else for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)&&(c=d(a[b],b),!1===c))return!1},extend:function(){var a,d,c=arguments[0]||{},f=1,e=arguments.length,g=!1,h=this.extend;"boolean"===
typeof c&&(g=c,c=arguments[1]||{},f=2);for("object"===typeof c||this.isFunction(c)||(c={});f<e;f++){var k=arguments[f];if(null!==k)for(a in k){var m=c[a];var r=k[a];c!==r&&(g&&r&&(this.isPlainObject(r)||(d=this.isArray(r)))?(d?(d=!1,m=m&&this.isArray(m)?m:[]):m=m&&this.isPlainObject(m)?m:{},c[a]=h(g,m,r)):void 0!==r&&(c[a]=r))}}return c},isFunction:function(a){return a&&"function"===typeof a&&a.call&&a.apply},isPlainObject:function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==
a)return!1;try{if(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}return!0},isArray:function(a){return a instanceof Array}};e.each.BREAK=!1;var n=function(){function a(a,b,d){for(var c=[],f=0;f<g.length;f++){var e=g[f];e.element==a&&e.eventType==b&&e.listener==d&&c.push({index:f,eventListener:e})}return c}function d(a){for(var b=[],d=0;d<g.length;d++){var c=g[d];c.element===a&&b.push(c)}return b}function c(a){this.originalEvent=
a;this.type=a.type;this.keyCode=a.keyCode;this.target=a.srcElement?a.srcElement:a.target}function f(b,d,c){c=a(b,d,c);0>=c.length?h.info("events.remove - Couldn't find exiting event listener for type \""+d+'" listener on element '+b):e.each(c,function(a){var c=a.index;a=a.eventListener;b.removeEventListener?b.removeEventListener(d,a.listenerWrapper,!1):b.detachEvent("on"+d,a.listenerWrapper);g.splice(c,1)})}var g=[];c.prototype={preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0}};return{addListener:function(b,d,f){function e(a){p&&(a=window.event);return f.call(b,new c(a))}if(0<a(b,d,f).length)h.warn("events.add - Listener already exists for event "+d+" on element "+b);else{var p=!b.addEventListener;g.push({element:b,eventType:d,listener:f,listenerWrapper:e});b.addEventListener?b.addEventListener(d,e,!1):b.attachEvent("on"+d,e)}},
triggerEvent:function(a,b,d){var c=document.createEvent("Event");c.initEvent(b,!0,!1);e.extend(c,d);a.dispatchEvent(c)},removeListener:f,clearListeners:function(a){a=d(a);e.each(a,function(a){f(a.element,a.eventType,a.listener)})}}}(),c=function(){function a(a){a=a.className;var b={};if(!a)return b;e.each(a.split(" "),function(a){b[a]=1});return b}function d(a){var b="";e.each(a,function(a,d){b+=" "+d});return b.slice(1)}return{setAttribute:function(a,b,d){a.setAttribute(b,d);a[b]=d},getAttribute:function(a,
b){return a.getAttribute(b)},addClass:function(b,c){var f=a(b);f[c]||(f[c]=1,b.className=d(f))},removeClass:function(b,c){var f=a(b);delete f[c];b.className=d(f)},getClassNames:function(a){return a.className.split(" ")}}}(),a=function(){function a(a){var b=document.createDocumentFragment(),d=document.createElement("div");d.innerHTML=a;e.each(d.childNodes,function(a){1==a.nodeType&&b.appendChild(a)});return b}function d(a){var b;e.each(a.childNodes,function(a){if(!b&&1==a.nodeType)return b=a,e.each.BREAK});
return b}return{prepend:function(b,c){var f=d(b),e=c;"string"===typeof c&&(e=a(c));f?b.insertBefore(e,f):b.appendChild(e)},append:function(b,d){var c=d;"string"===typeof d&&(c=a(d));b.appendChild(c)}}}(),f={};return{addEventListener:n.addListener,removeEventListener:n.removeListener,triggerEvent:n.triggerEvent,clearEventListeners:n.clearListeners,getAttribute:c.getAttribute,setAttribute:c.setAttribute,addClass:c.addClass,removeClass:c.removeClass,getClassNames:c.getClassNames,prepend:a.prepend,append:a.append,
query:g,queryFirst:l,isVisible:function(a,d){return!!(l(a,d)||{}).offsetParent},injectStylesheet:k,injectStylesheets:function(a,d){function b(a){--c||d(f)}d=d||function(){};if(0===a.length)d();else{var c=0,f=[];e.each(a,function(a){c++;setTimeout(function(){f.push(k(a,b))},1)})}},scrollIntoViewIfNeeded:function(a,d){function b(a,b){return{start:a,length:b,end:a+b}}function c(a,b){return!1===d||b.start<a.end&&a.start<b.end?Math.min(a.start,Math.max(b.start,a.end-b.length)):(a.start+a.end-b.length)/
2}function f(a,b){return{x:a,y:b,translate:function(d,c){return f(a+d,b+c)}}}function e(a,b){for(;a;)b=b.translate(a.offsetLeft,a.offsetTop),a=a.offsetParent;return b}var g=e(a,f(0,0)),k=f(a.offsetWidth,a.offsetHeight);a=a.parentNode;for(var h;a instanceof HTMLElement;)h=e(a,f(a.clientLeft,a.clientTop)),a.scrollLeft=c(b(g.x-h.x,k.x),b(a.scrollLeft,a.clientWidth)),a.scrollTop=c(b(g.y-h.y,k.y),b(a.scrollTop,a.clientHeight)),g=g.translate(-a.scrollLeft,-a.scrollTop),a=a.parentNode}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/event-bus.js",[],function(){function h(){function h(c,a,f,b){if(!f)return!0;if("object"===typeof f){for(var d in f)c[a].apply(c,[d,f[d]].concat(b));return!1}if(n.test(f)){f=f.split(n);d=0;for(var e=f.length;d<e;d++)c[a].apply(c,[f[d]].concat(b));return!1}return!0}function e(c,a){var f,b=-1,d=c.length,e=a[0],g=a[1],h=a[2];switch(a.length){case 0:for(;++b<d;)(f=c[b]).callback.call(f.ctx);break;case 1:for(;++b<
d;)(f=c[b]).callback.call(f.ctx,e);break;case 2:for(;++b<d;)(f=c[b]).callback.call(f.ctx,e,g);break;case 3:for(;++b<d;)(f=c[b]).callback.call(f.ctx,e,g,h);break;default:for(;++b<d;)(f=c[b]).callback.apply(f.ctx,a)}}this._events={};var n=/\s+/;this.on=function(c,a,f){if(!h(this,"on",c,[a,f])||!a)return this;this._events||(this._events={});(this._events[c]||(this._events[c]=[])).push({callback:a,context:f,ctx:f||this});return this};this.off=function(c,a,f){var b,d,e;if(!this._events||!h(this,"off",
c,[a,f]))return this;if(!c&&!a&&!f)return this._events=void 0,this;var g=c?[c]:l.keys(this._events);var k=0;for(d=g.length;k<d;k++)if(c=g[k],b=this._events[c]){var n=[];this._events[c]=n;if(a||f){var q=0;for(e=b.length;q<e;q++){var t=b[q];(a&&a!==t.callback&&a!==t.callback._callback||f&&f!==t.context)&&n.push(t)}}n.length||delete this._events[c]}return this};this.once=function(c,a,f){function b(){var e=g.call(arguments);d.off(c,b,f);a.apply(this,e)}var d=this;this.on(c,b,f);return this};this.trigger=
function(c){if(!this._events)return this;var a=g.call(arguments,1);if(!h(this,"trigger",c,a))return this;var f=this._events[c],b=this._events.all;f&&e(f,a);b&&e(b,arguments);return this}}var g=Array.prototype.slice,l={isPlainObject:function(g){if("[object Object]"!==String(g)||g.nodeType||g.window&&g.window==g)return!1;try{if(g.constructor&&!Object.prototype.hasOwnProperty.call(g.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},keys:function(g){if(!this.isPlainObject(g))return[];
var e=[],h;for(h in g)Object.prototype.hasOwnProperty.call(g,h)&&e.push(h);return e},_idCounter:0,uniqueId:function(g){var e=String(++this._idCounter);return g?g+e:e}};return{create:function(){return new h}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js",[],function(){function h(a,b,c){e||(e=b.getGlobalServices().getJsLoggingService());e[a](c)}function g(d,e,g){var h=String(extole.CORE_ROOT).match(/coreAssetsVersion=(\d+)/);g=g||{};g.pageId=n;g.referer=c;g.coreAssetsVersion=h&&h[1];try{var p=[e||"no message","START_JSON",JSON.stringify(g),"END_JSON"].join(" ")}catch(q){k("Failed to stringify log's json data",{exception:q});return}extole.LOG_EXCLUDE_REGEX&&
p.match(extole.LOG_EXCLUDE_REGEX)||(b[p]=++b[p]||1,a[d]>=a[extole.LOG_LEVEL_CONSOLE]&&window.console&&window.console.log&&window.console.log(d+" "+p),a[d]>=a[extole.LOG_LEVEL_REMOTE]&&(e=b[p],f[e]&&l(d,p+(1<e?" log count: "+e:""))))}function l(a,b){extole.require(["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/api.js"],function(d){d.post("/api/v4/debug/logs",{level:a,message:b},null,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})}function k(a,
b){g("ERROR",a,b)}var e;if("undefined"===typeof window)return{debug:function(a,b){h("debug",a,b)},info:function(a,b){h("info",a,b)},warn:function(a,b){h("warn",a,b)},error:function(a,b){h("error",a,b)},LOGGING_ENDPOINT:"/api/v4/debug/logs"};var n=String((new Date).getTime()),c=window.location.href,a={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},f={1:!0,3:!0,10:!0,30:!0,100:!0,250:!0,500:!0,1E3:!0};extole.LOG_EXCLUDE_REGEX=extole.LOG_EXCLUDE_REGEX||void 0;extole.LOG_LEVEL_CONSOLE=extole.LOG_LEVEL_CONSOLE||
"OFF";extole.LOG_LEVEL_REMOTE=extole.LOG_LEVEL_REMOTE||"WARN";var b={};return{debug:function(a,b){g("DEBUG",a,b)},info:function(a,b){g("INFO",a,b)},warn:function(a,b){g("WARN",a,b)},error:k,LOGGING_ENDPOINT:"/api/v4/debug/logs"}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/Timer.js",[],function(){return function(){var h=this,g;this.start=function(){if(g)throw Error("Timer.start has already been called");g=new Date;return h};this.getElapsedTime=function(){if(!g)throw Error("Timer has not been started");return new Date-g}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/type.js",[],function(){function h(h,k){return function(e){return g(h,e,k)}}function g(g,h,e){e=e||{};g=Object.prototype.toString.call(h)==="[object "+g+"]";h=h&&e.construct?h.constructor===e.construct:!0;return(e.negate?!g:g)&&h}return{isPlainObject:h("Object",{construct:Object}),isPlainFunction:h("Function"),isArray:h("Array"),isString:h("String"),isBoolean:h("Boolean"),isNumber:h("Number"),isUndefined:h("Undefined"),
isDefined:h("Undefined",{negate:!0}),isNull:h("Null"),test:g}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js"],function(h){function g(c){var a={};(function p(b,d){for(var c in b){var e=b[c],g=(d?d+".":"")+c;"[object Object]"===Object.prototype.toString.call(e)?p(e,g):"__proto__"!==g&&(a[g]=e)}})(c);return a}function l(c){try{return decodeURIComponent(c)}catch(a){return c}}function k(c,a,f){a=(a||[]).concat(extole.PROGRAM?
extole.PROGRAM.siteRegexPatterns:[]);f=e(f||location.href);c=e(c);return(/^https?:\/\//.test(c)?h.find(a,function(a){var b=n.exec(c);return(new RegExp(a)).test(b&&b[1])}):1)?c:f}function e(c){return c.replace(/(j|%4A|%6A)(a|%41|%61)(v|%56|%76)(a|%41|%61)(s|%53|%73)(c|%43|%63)(r|%52|%72)(i|%49|%69)(p|%50|%70)(t|%54|%74)(:|%3A)/gi,"")}var n=/^https?:\/\/([^/:?#]+)/i;return{serialize:function(c){var a="",f;for(f in c)a+="&"+encodeURIComponent(f)+"="+encodeURIComponent(String(c[f]));return a.replace(/^&/,
"?")},deserialize:function(c){var a={};if(!c)return a;c=(c.match(/^\?/)?c.slice(1):c).split("&");for(var f=0;f<c.length;f++){var b=c[f].split("="),d=l(b[0]);b=l(b[1]);"__proto__"!==d&&(a[d]=b)}return a},objectToDotNotation:g,dotNotationToObject:function(c){var a={};c=g(c);for(var f in c){for(var b=a,d=f.split("."),e=d.pop();d.length;){var h=d.shift();"__proto__"!==h&&(b[h]=b[h]||{},b=b[h])}"__proto__"!==e&&(b[e]=c[f])}return a},decodeComponent:l,encodeComponent:function(c){return encodeURIComponent(c)},
getSafeRedirectUrl:k,executeSafeRedirect:function(c,a,f){window.location.href=k(c,a,f)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/ajax.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/type.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js"],function(h,g,
l,k){function e(a,c){function b(){4!==a.readyState||w||(w=!0,String(a.status||200).match(/^[23]/)?"function"===typeof x?x.call(a,a.responseText,a):k.warn("'complete' callback must be a function."):y.call(a,a.statusText,a.status),e())}function d(b){w||(w=!0,k.error("Error with url "+t+"= "+n.join(","),f(b)),y.call(a,a.statusText,a.status))}function f(b){return{eventType:b&&b.type||null,options:c,readyState:a.readyState,response:a.response,responseText:a.responseText,responseType:a.responseType,responseURL:a.responseURL,
responseXML:a.responseXML,status:a.status,statusText:a.statusText,timeout:a.timeout,responseHeaders:a.getAllResponseHeaders(),stackTrace:Error().stack}}function e(a){0>t.indexOf(k.LOGGING_ENDPOINT)&&k.info("ajax request complete",f(a))}var n=Array.prototype.slice.call(arguments),v=c.headers||{},q=c.xhrFields||{},t=c.url||"",m=c.data||"",r=(c.type||"get").toUpperCase(),x=c.complete||function(){},y=c.error||function(){};l.isPlainObject(m)&&("GET"===r?(t+=g.serialize(m),m=null):m=JSON.stringify(m));
a.open(r,t,!0);h.merge(a,q);h.each(v,function(b,d){try{a.setRequestHeader(d,b)}catch(B){k.error("AJAX ERROR: Couldn't set request header "+d+" to "+b)}});var w=!1;a.onload=b;a.onreadystatechange=b;a.onerror=d;a.ontimeout=d;a.onabort=e;a.send(m)}function n(a){a=a||{};var f=!1;for(var b=0;b<c.length;b++){try{f=c[b]()}catch(d){continue}break}e(f,a);return f}var c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];n.convertToFormUrlEncoded=function(a,c){var b=[];h.each(a,function(d,c){"Content-Type"!==c&&(b.push("::headers."+c+"="+d),delete a[c])});h.each(c,function(a,c){c=window.encodeURIComponent(c);c=-1<c.indexOf(".")?'"'+c+'"':c;a=window.encodeURIComponent(a);b.push(c+"="+a)});return b.join("&")};return n});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/program.js",[],function(){return{getName:function(){return extole.PROGRAM.name},getProgramDomain:function(){return extole.PROGRAM.programDomain},getSitePatterns:function(){return extole.PROGRAM.sitePatterns},getSiteRegexPatterns:function(){return extole.PROGRAM.siteRegexPatterns},getProtocol:function(){return"https://"}}});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/token-store.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/event-bus.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/cookie.js"],
function(h,g,l,k){function e(){function c(){this.get=function(a){return k(a)};this.set=function(a,b,c){extole.COOKIES_DISABLED||k(a,b,{expires:n[c],path:"/",samesite:"strict"})};this.remove=function(a){k(a,"",{expires:-1,path:"/"})}}function a(){(function(){var a="test"+(new Date).getTime();try{localStorage.setItem(a,a),localStorage.removeItem(a)}catch(p){throw Error("Local storage not supported");}})();this.get=function(a){return window.localStorage.getItem(a)};this.set=function(a,b,c){window.localStorage.setItem(a,
b)};this.remove=function(a){window.localStorage.removeItem(a)}}var f=[],b=extole.CORE_CONFIG.isCookieConsentEnabled?"SESSION":"YEAR";f.push(new function(){var a={};this.get=function(b){return a[b]};this.set=function(b,c,d){a[b]=c};this.remove=function(b){delete a[b]}});extole.COOKIES_DISABLED||f.push(new c);if(extole.LOCAL_STORAGE_ENABLED)try{f.push(new a)}catch(d){g.info("Local Storage not supported in current browser")}this.events=l.create();this.get=function(){for(var a,b=0;b<f.length;b++){a=f[b];
var c=a.get("extole_access_token");if("string"===typeof c&&"undefined"!==c&&"null"!==c&&c.length)return a.get("extole_access_token")}return null};this.set=function(a,c){var d=this.get();b=c||b;h.each(f,function(c){c.set("extole_access_token",a,b)});d!==a&&this.events.trigger("change:access_token");d&&d!=a&&g.debug("ACCESS_TOKEN_CHANGE - the access token changed from: "+d+", to: "+a)};this.remove=function(){h.each(f,function(a){a.remove("extole_access_token")})}}var n={year:365,YEAR:365,session:null,
SESSION:null};return extole.tokenStore=extole.tokenStore?extole.tokenStore:new e});
extole.define("https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/metric-registry.js",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/program.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/ajax.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/token-store.js"],function(h,g,l){function k(c,a,f){c={metric_type:c,key:a,value:f};a={"Content-Type":"application/json",
"X-Extole-App":"javascript_sdk"};l.get()&&(a.Authorization=l.get(),f=[h.getProtocol(),h.getProgramDomain(),"/api/v4/debug/metrics"].join(""),g({url:f,type:"POST",headers:a,data:c,xhrFields:{withCredentials:!0}}))}function e(c){this.increment=function(a){k("COUNTER",c,a)}}function n(c){this.update=function(a){k("HISTOGRAM",c,a)}}return{histogram:function(c){return new n(c)},counter:function(c){return new e(c)}}});
extole.define("CreativeRenderContext",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js"],function(h,g){function l(e,c,a){this.getElement=function(){return a};this.getName=function(){return e};this.getData=function(){return c};this.getParameters=function(){return c}}function k(){this.getName=function(){return extole.PROGRAM.name};this.getProgramDomain=function(){return extole.PROGRAM.programDomain};
this.getSitePatterns=function(){return extole.PROGRAM.sitePatterns};this.getSiteRegexPatterns=function(){return extole.PROGRAM.siteRegexPatterns}}function e(){this.backendTargetingEnabled=function(){return!0};this.cookieConsentEnabled=function(){return extole.CORE_CONFIG.isCookieConsentEnabled}}return function(n,c,a,f){var b=new l(n,c,a),d=new k,p=new e;this.getZone=function(){return b};this.getProgram=function(){return d};this.getCreativeData=function(){var a=h.dotNotationToObject(h.deserialize(location.search)),
c=h.dotNotationToObject(b.getParameters());return g.merge(a.extole_creative,c.creative)};this.getCoreConfig=function(){return p};this.getLocale=function(){return f||null}}});
extole.define("find-element-by-id",["https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/metric-registry.js"],function(h,g){function l(g,e,h){function c(){if(e())h();else{g();var f=setTimeout;a||(a=10);var b=500<a?500:a*=1.1;f(c,b)}}var a;c()}return function(k,e){var n=(new Date).getTime(),c=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_NOT_FOUND||3E3,a=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_FOUND||
2E3,f=!1,b;l(function(){b=document.getElementById(k)},function(){var d=(new Date).getTime()-n,e=!!b;e?(g.histogram("zone_element_found").update(d),d>=a&&h.warn("EXTOLE_ELEMENT_FOUND_SLOW: Scan duration: "+d+"ms, element id: "+k)):!f&&d>=c&&(f=!0,g.histogram("zone_element_not_yet_found").update(d),h.warn("EXTOLE_ELEMENT_NOT_YET_FOUND: Scan duration: "+d+"ms, element id: "+k));return e},function(){e(b)})}});
extole.define("ensure-element",["find-element-by-id"],function(h){return function(g,l){g.element?l(g.element):g.element_id?h(g.element_id,l):l(document.body.appendChild(document.createElement("div")))}});
extole.define("pending-zone-service","https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/device-type.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/type.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/metric-registry.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/token-store.js CreativeRenderContext ensure-element".split(" "),function(h,
g,l,k,e,n,c,a,f){function b(b,e){e=e||function(){};var h=b.name,k=p(b.data),l=Date.now();m(h);this.resolve=function(m,r,p,y){c.set(r,p);u(b)&&(r=d(h,"time_to_zone_response_ms"),p=Date.now()-l,n.histogram(r).update(p));f(b,function(c){b.element=c;u(b)&&z(b.element,function(){var a=d(h,"time_to_first_html_ms"),b=Date.now()-l;n.histogram(a).update(b)});g.clearEventListeners(b.element);c=new a(h,k,b.element,y);m(c);e(null,c.getZone())})}}function d(a,b){var c=document.getElementsByTagName("*").length;
c=2500<c?"xx_large":1500<c?"x_large":1E3<c?"large":500<c?"medium":"small";var d=h.isMobile((window.navigator||{}).userAgent)?"mobile":"desktop";return[a,d,c,b].join("_")}function p(a){a=e.merge({},a);delete a.campaign_id;delete a.extole_campaign_id;return a}function u(a){return q.test(a.name)||q.test((a.data||{}).redirect)?!0:!1}function z(a,b){var c=document.createElement("div");c.style.display="none";a.appendChild(c);v(c,b)}function v(a,b){if(window.MutationObserver){var c=new MutationObserver(function(d){e.each(d,
function(d){d.removedNodes&&e.each(d.removedNodes,function(d){d===a&&(b(),c.disconnect())})})});a.parentNode&&c.observe(a.parentNode,{childList:!0})}}var q=/_experience$/,t={},m=function(){var a={};return function(b){l.isUndefined(a[b])&&(a[b]=0);a[b]++;if(5===a[b]){b="duplicate_zone_requests : "+b;var c=e.filter(extole.q.history,function(a){return a.name&&"createZone"===a.name});c=e.map(c,function(a){delete (a.args[0]||{}).element;return a});k.warn(b,c)}}}();return{get:function(a){if(!t[a])throw Error("Pending zone does not exist for id: "+
a);return t[a]},create:function(){var a=Math.floor(1E9*Math.random()),c=0;return function(d,e){c++;var f=a+"."+c;t[f]=new b(d,e);return f}}()}});
extole.define("create-zone","extole-uri-parser https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/uri.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/collection.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/dom.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/program.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/ajax.js https://origin.xtlo.net/type=core:clientId=1528233037:coreAssetsVersion=106/common/logger.js pending-zone-service".split(" "),function(h,
g,l,k,e,n,c,a,f){return function(b,d,p){function u(){r&&(m.jwt=r);x&&(m.access_token=x);m.extole_app="javascript_sdk";q=[y,"/zones/",b.name].join("");var a=q+g.serialize(m),c=document.createElement("script");k.setAttribute(c,"src",a);k.setAttribute(c,"async","");k.append(k.queryFirst("head")||k.queryFirst("body"),c);c.onload=v}function z(){var d={"Content-Type":"application/x-www-form-urlencoded",Accept:"text/javascript","X-Extole-App":"javascript_sdk"};q=y+"/zones/"+b.name;r&&(d["X-Extole-Jwt"]=
r,delete m.jwt);x&&(d.Authorization="Bearer+"+x);var e=c.convertToFormUrlEncoded(d,m);c({url:q,type:"POST",headers:d,data:e,complete:function(b,c){var d=/^text\/html(;|$)/,f=/^text\/plain(;|$)/;c=c.getResponseHeader("Content-Type");if(/^text\/javascript(;|$)/.test(c))var g=b;else if(d.test(c))d=document.createElement("div"),d.innerHTML=b,g=k.queryFirst("script",d).innerHTML;else if(f.test(c)&&!b)a.info("No campaign targeted in POST to /zones - Zone Request Data: "+e);else{if(null===c&&w<(extole.maxZoneRequestRetryCount||
5)){w+=1;z();return}a.warn("Received "+c+" content type from "+q+"; Retry count: "+w+"; Zone Request Data: "+e)}if(g)try{(new Function(g))()}catch(A){a.error("Error in zone script retrieved from "+q+" - MESSAGE: "+A.message+" STACK: "+A.stack)}v()},error:function(b){a.error("Error creating zone via POST to "+q,b)},xhrFields:{withCredentials:!0}})}function v(){"function"===typeof p&&setTimeout(p,500)}d=d||function(){};var q,t=g.deserialize(location.search),m=l.merge({},b.data||b.parameters),r=b.jwt||
m.jwt||t.extole_jwt,x=n.get(),y=[e.getProtocol(),e.getProgramDomain()].join(""),w=0;extole.CORE_CONFIG.isGlobalZoneParametersEnabled&&(t=h.parseGlobalZoneParameters(t),m=l.merge(m,t));if(extole.createZonePrehandler&&(t=extole.createZonePrehandler(b,m),!1===t))return;b.data=m;m.zone_id=f.create(b,d);m=l.flatten(m);extole.CORE_CONFIG.isZonePostEnabled?z():u()}});
extole.define("create-zone-executor",["create-zone","ensure-element"],function(h,g){function l(c,a){a=a||function(){};0===n?e.push(function(e){e=k(e);h(c,function(){var b=Array.prototype.slice.call(arguments);a.apply(null,b);e()},e)}):e.push(function(e){h(c,a);e()});n++}function k(c){var a=!1;return function(){var e=Array.prototype.slice.call(arguments);a||(a=!0,c.apply(null,e))}}var e=new function(){var c=0,a=[],e=this;this.push=function(b){a.push(b);this.next()};this.next=function(){function b(){c--;
e.next()}for(;1>c&&a.length;)a.shift()(b),c++}},n=0;return{initiateExecution:function(c,a){extole.isFindElementBeforeZoneRequest?g(c,function(e){c.element=e;l(c,a)}):l(c,a)}}});